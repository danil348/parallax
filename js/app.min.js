function cursorNone(){document.querySelectorAll("body *:not(script)").forEach(e=>e.style.cssText="cursor: none;")}function cursorLink(){return document.querySelectorAll("a, button, .cursorLink")}function cursor(){cursorNone();let e=document.querySelector("._cursor"),t=document.querySelector("._follower"),n=parseInt(localStorage.getItem("x")),o=parseInt(localStorage.getItem("y")),s=parseInt(localStorage.getItem("x")),r=parseInt(localStorage.getItem("y")),l=t.getAttribute("cursor-animation-property");l&&(l=l.split(","),followerSpead=parseInt(l[0]),cursorMargin=parseInt(l[1]),clickDuration=parseInt(l[2])),setInterval(()=>{n+=(s-n)/followerSpead,o+=(r-o)/followerSpead,e.style.cssText=`top: ${r}px; left: ${s}px`,t.style.cssText=`top: ${o-cursorMargin}px; left: ${n-cursorMargin}px`},.01),document.addEventListener("click",()=>{t.classList.contains("_press")||(t.classList.add("_press"),e.classList.add("_press"),setTimeout(()=>{t.classList.remove("_press"),e.classList.remove("_press")},clickDuration))}),window.addEventListener("mousemove",e=>{s=e.clientX,r=e.clientY,localStorage.setItem("x",s),localStorage.setItem("y",r)}),cursorLink().forEach(n=>{n.addEventListener("mouseenter",()=>{e.classList.add("_active"),t.classList.add("_active")}),n.addEventListener("mouseleave",()=>{e.classList.remove("_active"),t.classList.remove("_active")})})}function anim(){const e=document.querySelectorAll("._anim-items");if(e.length>0){function t(){for(let t=0;t<e.length;t++){const o=e[t],s=o.offsetHeight,r=n(o).top,l=2;let a=window.innerHeight-s/l;s>window.innerHeight&&(a=window.innerHeight-window.innerHeight/l),pageYOffset>r-a&&pageYOffset<r+s&&o.classList.add("_active")}}function n(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}window.addEventListener("scroll",t),setTimeout(()=>{t()},300)}}function headerbg(e){const t=e.querySelector("header");new IntersectionObserver((function(e,n){e[0].isIntersecting?t.classList.remove("_scroll"):t.classList.add("_scroll")})).observe(t)}function line(e){setTimeout(()=>{let t=e.querySelector(".line"),n=parseInt(window.innerHeight),o=parseInt(document.documentElement.scrollHeight)-n;setInterval(()=>{let e=parseInt(document.documentElement.scrollTop)/o*100;t.style.cssText=`\n\t\t\t\tWidth:${e}%;\n\t\t\t`},1)},1.5)}function letterAnim(){let e=document.querySelectorAll("._letter-animation");e&&(e.forEach(e=>{let t=e.innerHTML.replace("  "," ").split(" "),n="";t.forEach((o,s)=>{let r=t[s],l=r.length;n+="<div class='_letter-animation__word'>";for(let e=0;e<l;e++){let t=r.substr(e,1);" "==t?t="&nbsp;":n=n+"<span class='_letter-animation__letter'>"+t+"</span>"}e.innerHTML=n,n+="&nbsp;</div>"})}),function(e){e.forEach(e=>{e.querySelectorAll("div").forEach(e=>{e.style.cssText="display: inline-block;"}),e.style.cssText="display: inline-block; position: relative;",e.addEventListener("mouseenter",t=>{e.classList.contains("_hold")||(!function(e,t){let n=50,o=0,s=-10,r="px",l=!1,a=e.path[0].getAttribute("letter-animation-property"),i=e.path[0].querySelectorAll("span");a&&(a=a.split(","),o=parseInt(a[0]),s=parseInt(a[1]),n=parseInt(a[2]),r=a[3],a[4]&&(l=!0));let c=n*i.length;l||setTimeout(()=>{t.classList.remove("_hold")},c),i.forEach((e,t)=>{let l=e,a=n;setTimeout(()=>{l.style.cssText=`\n\t\t\ttransition: all ${a}ms ease 0s;\n\t\t\tdisplay: inline-block;\n\t\t\ttransform: translate(${o}${r}, ${s}${r});\n\t\t`},a*t),setTimeout(()=>{l.style.cssText=`\n\t\t\ttransition: all ${a}ms ease 0s;\n\t\t\tdisplay: inline-block;\n\t\t\ttransform: translate(0, 0);\n\t\t`},a*t+a)})}(t,e),e.classList.add("_hold"))})})}(e))}function sqr(e){if(window.screen.width>1023){e.querySelectorAll(".date-concerts__item").forEach(e=>{e.addEventListener("mouseenter",s),e.addEventListener("mouseleave",r)});const l=e.querySelector("#concerts"),a=l.offsetWidth,i=l.offsetHeight,c=e.querySelector("#square-container"),d=["#142850","#27496D","#0C7B93","#00A8CC"],u=~~(i/20)*~~(a/20);let m=[];for(let e=0;e<u;e++){const e=document.createElement("div");e.classList.add("square"),e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),c.append(e),m.unshift(e)}function t({target:e}){const t=e,n=d[o(d.length)];t.style.cssText="\n\t\ttransition: all 0s ease 0s;\n\t\t",t.style.backgroundColor=n,t.style.boxShadow=`0 0 2px ${n}, 0 0 15px ${n}`}function n({target:e}){const t=e;t.style.cssText="\n\t\ttransition: all 2s ease 0s;\n\t\t",setTimeout(()=>{t.style.cssText="\n\t\t\ttransition: all 0s ease 0s;\n\t\t\t"},1e3)}function o(e){return Math.floor(Math.random()*e)}function s({target:e}){const t=e.offsetWidth,n=e.offsetHeight,s=e.offsetTop,r=e.offsetLeft;m.forEach((e,l)=>{l%11==0&&e.offsetTop>s-20&&e.offsetTop<s+n&&e.offsetLeft>r-20&&e.offsetLeft<r+t-20&&function(e){const t=d[o(d.length)];e.style.cssText="\n\t\t\ttransition: all 2s ease 0s;\n\t\t\t",e.style.backgroundColor=t,e.style.boxShadow=`0 0 2px ${t}, 0 0 15px ${t}`}(e)})}function r({target:e}){const t=e.offsetWidth,n=e.offsetHeight,o=e.offsetTop,s=e.offsetLeft;m.forEach((e,r)=>{r%11==0&&e.offsetTop>o-20&&e.offsetTop<o+n&&e.offsetLeft>s-20&&e.offsetLeft<s+t-20&&(e.style.cssText="\n\t\t\ttransition: all 2s ease 0s;\n\t\t\t")})}}}window.onload=function(){function e(){document.querySelectorAll("ul.transition li").forEach((e,t)=>{e.style.cssText=`\n\t\t\t\ttransition: all 0.5s ease ${.1*t}s;\n\t\t\t\ttransform: scaleY(1);\n\t\t\t`})}function t(e){return e=e||2e3,new Promise(t=>{setTimeout(()=>{t()},e)})}BildSlider(),menu(),barba.hooks.afterEnter(({next:e})=>{cursor(),function(){let e=document.querySelectorAll("ul.transition li");e.forEach(e=>{e.style.cssText="\n\t\t\t\ttransform: scaleY(1);\n\t\t\t"}),e.forEach((e,t)=>{e.style.cssText=`\n\t\t\t\ttransition: all 0.5s ease ${.1*t}s;\n\t\t\t\ttransform: scaleY(0);\n\t\t\t`})}(e.container),function(){const e=document.querySelectorAll('a[href*="#"]');for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const n=t.getAttribute("href").substr(1);document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"})}));if(parseInt(window.innerWidth)>=767){const e=document.querySelector(".parallax__body");if(e){document.querySelector(".parallax__container");const t=document.querySelector(".parallax__imageLine"),n=document.querySelector(".parallax__text"),o=document.querySelector(".parallax__image"),s=document.querySelector(".parallax__contur"),r=document.querySelector(".parallax__exit"),l=document.querySelector(".parallax__z"),a=document.querySelector(".parallax__d"),i=document.querySelector(".parallax__e"),c=document.querySelector(".parallax__s"),d=document.querySelector(".parallax__i"),u=10,m=5,f=40,p=40,y=10,g=20,h=20,v=20,_=20,w=20,S=.05;let b=0,L=0,x=0,q=0;!function e(){b+=(x-b)*S,L+=(q-L)*S,t.style.cssText=`transform: translate(${-50-b/u}%,${-50-L/u*7}%);`,n.style.cssText=`transform: translate(${-50-b/m/2}%,${-50-L/m*8}%);`,o.style.cssText=`transform: translate(${-50-b/f}%,${-50-L/f*7}%);`,s.style.cssText=`transform: translate(${-50-b/p}%,${-50-L/p*7}%);`,r.style.cssText=`transform: rotate(35deg) translate(${-b/y}%,${-L/y*7}%);`,l.style.cssText=`transform: rotate(-30deg) translate(${-b/g*2}%,${-L/g*7}%);`,a.style.cssText=`transform: rotate(-30deg) translate(${-b/h*2}%,${-L/h*7}%);`,i.style.cssText=`transform: rotate(-30deg) translate(${-b/v*2}%,${-L/v*7}%);`,c.style.cssText=`transform: rotate(-30deg) translate(${-b/_*2}%,${-L/_*7}%);`,d.style.cssText=`transform: rotate(-30deg) translate(${-b/w*2}%,${-L/w*7}%);`,requestAnimationFrame(e)}(),e.addEventListener("mousemove",(function(t){const n=e.offsetWidth,o=e.offsetHeight,s=t.pageX-n/2,r=t.pageY-o/2;x=s/n*100,q=r/o*100}))}}}(),BildSlider(),headerbg(e.container),line(e.container),anim()}),barba.hooks.leave(()=>{window.scrollTo({top:0,behavior:"smooth"})}),barba.init({transitions:[{name:"main-animation",to:{namespace:["video","team","index","galery","muzic"]},once(){},async leave(){const n=this.async();e(),await t(1e3),n()},enter(){}},{name:"index",to:{namespace:["index"]},once({next:e}){/*sqr(e.container),*/letterAnim()},async leave(){const n=this.async();e(),await t(1e3),n()},enter({next:e}){/*sqr(e.container),*/letterAnim()}}]})},anim();var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function isIE(){return(ua=navigator.userAgent).indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function ibg(){if(isIE()){let t=document.querySelectorAll("._ibg");for(var e=0;e<t.length;e++)t[e].querySelector("img")&&null!=t[e].querySelector("img").getAttribute("src")&&(t[e].style.backgroundImage="url("+t[e].querySelector("img").getAttribute("src")+")")}}isIE()&&document.querySelector("html").classList.add("ie"),isMobile.any()&&document.querySelector("html").classList.add("_touch"),testWebP((function(e){!0===e?document.querySelector("html").classList.add("_webp"):document.querySelector("html").classList.add("_no-webp")})),ibg(),window.addEventListener("load",(function(){document.querySelector(".wrapper")&&setTimeout((function(){document.querySelector(".wrapper").classList.add("_loaded")}),0)}));let unlock=!0;if(location.hash){const e=location.hash.replace("#","");document.querySelector(".popup_"+e)?popup_open(e):document.querySelector("div."+e)&&_goto(document.querySelector("."+e),500,"")}function menu(){let e=document.querySelector(".icon-menu"),t=document.querySelectorAll(".menu__body ul li");if(null!=e){let o=500,s=document.querySelector(".header__logo"),r=document.querySelector(".menu__body");e.addEventListener("click",(function(t){unlock&&(!function(e){document.querySelector("body").classList.contains("_lock")?n(e):function(e){let t=document.querySelector("body");if(unlock){let n=document.querySelectorAll("._lp");for(let e=0;e<n.length;e++){n[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",t.classList.add("_lock"),unlock=!1,setTimeout((function(){unlock=!0}),e)}}(e)}(o),e.classList.toggle("_active"),r.classList.toggle("_active"))})),t.forEach(t=>{t.addEventListener("click",(function(t){e.classList.remove("_active"),r.classList.remove("_active"),n(o),setTimeout(()=>{menu()},2e3)}))}),s.addEventListener("click",(function(t){e.classList.remove("_active"),r.classList.remove("_active"),n(o),setTimeout(()=>{menu()},2e3)}))}function n(e){let t=document.querySelector("body");if(unlock){let n=document.querySelectorAll("._lp");setTimeout(()=>{for(let e=0;e<n.length;e++){n[e].style.paddingRight="0px"}t.style.paddingRight="0px",t.classList.remove("_lock")},e),unlock=!1,setTimeout((function(){unlock=!0}),e)}}}function BildSlider(){let e=document.querySelectorAll("._swiper");if(e)for(let t=0;t<e.length;t++){let n=e[t];if(!n.classList.contains("swiper-bild")){let e=n.children;if(e)for(let t=0;t<e.length;t++){e[t].classList.add("swiper-slide")}let t=n.innerHTML,o=document.createElement("div");if(o.classList.add("swiper-wrapper"),o.innerHTML=t,n.innerHTML="",n.appendChild(o),n.classList.add("swiper-bild"),n.classList.contains("_swiper_scroll")){let e=document.createElement("div");e.classList.add("swiper-scrollbar"),n.appendChild(e)}}n.classList.contains("_gallery")}let t=document.querySelectorAll("._swiper_scroll");if(t.length>0)for(let e=0;e<t.length;e++){const n=t[e],o=n.querySelector(".swiper-scrollbar");new Swiper(n,{observer:!0,observeParents:!0,direction:"vertical",slidesPerView:"auto",freeMode:!0,scrollbar:{el:o,draggable:!0,snapOnRelease:!1},mousewheel:{releaseOnEdges:!0}}).scrollbar.updateSize()}document.querySelector(".slider-albums__body")&&new Swiper(".slider-albums__body",{observer:!0,observeParents:!0,slidesPerView:"auto",spaceBetween:120,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,preloadImages:!1,parallax:!0,autoplay:{delay:2e3,disableOnInteraction:!1},on:{init(){this.el.addEventListener("mouseenter",()=>{this.autoplay.stop()}),this.el.addEventListener("mouseleave",()=>{this.autoplay.start()})}}}),document.querySelector(".slider-video__body")&&new Swiper(".slider-video__body",{observer:!0,observeParents:!0,slidesPerView:"auto",spaceBetween:100,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,preloadImages:!1,parallax:!0,autoplay:{delay:2700,disableOnInteraction:!1},on:{init(){this.el.addEventListener("mouseenter",()=>{this.autoplay.stop()}),this.el.addEventListener("mouseleave",()=>{this.autoplay.start()})}}}),document.querySelector(".slider-galery__body")&&new Swiper(".slider-galery__body",{observer:!0,observeParents:!0,slidesPerView:"auto",spaceBetween:100,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,preloadImages:!1,parallax:!0,autoplay:{delay:2700,disableOnInteraction:!1},on:{init(){this.el.addEventListener("mouseenter",()=>{this.autoplay.stop()}),this.el.addEventListener("mouseleave",()=>{this.autoplay.start()})}}})}
